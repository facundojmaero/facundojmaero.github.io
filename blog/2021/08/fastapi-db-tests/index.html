<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.7fc404a07b544f0c09d9.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}:root{--post-width:48rem;--code-width:60rem;--maxWidth-wrapper:52rem;--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#005b99;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5}*,:after,:before{box-sizing:border-box}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:var(--fontSize-root);line-height:var(--lineHeight-normal)}body{--bg:#fff;--textNormal:#222;--textTitle:#222;--textLink:blue;--hr:rgba(0,0,0,0.2);background-color:var(--bg);color:var(--color-text);font-family:var(--font-body);font-size:var(--fontSize-1);margin:0;padding:0}body.dark{-webkit-font-smoothing:antialiased;--bg:#121212;--textNormal:hsla(0,0%,100%,0.88);--textTitle:#fff;--textLink:#ff0;--hr:hsla(0,0%,100%,0.2);color:#eee}footer{padding-top:var(--spacing-6)}hr{background:var(--color-accent);border:0;height:1px}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);letter-spacing:-.025em;line-height:var(--lineHeight-tight);margin-bottom:var(--spacing-6);margin-top:var(--spacing-12)}h2,h3,h4,h5,h6{color:var(--color-heading);font-weight:var(--fontWeight-bold)}h1{color:var(--color-heading-black);font-size:var(--fontSize-6);font-weight:var(--fontWeight-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{--baseline-multiplier:0.179;--x-height-multiplier:0.35;line-height:var(--lineHeight-relaxed);margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{list-style-image:none;list-style-position:outside;margin-bottom:var(--spacing-8);margin-left:var(--spacing-0);margin-right:var(--spacing-0)}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{border-left:var(--spacing-1) solid var(--color-primary);color:var(--color-text-light);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{border-collapse:collapse;border-spacing:.25rem;margin-bottom:var(--spacing-8);width:100%}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{color:var(--color-primary);font-size:var(--fontSize-4);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-family:var(--font-heading);font-size:var(--fontSize-2);font-weight:var(--fontWeight-bold);text-decoration:none}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio-avatar,.bio p{margin-bottom:var(--spacing-0)}.bio-avatar{border-radius:100%;margin-right:var(--spacing-4);min-width:50px}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-family:var(--font-heading);font-size:var(--fontSize-2)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{margin-left:var(--spacing-0);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4)}}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:#d6deeb;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:rgba(29,59,83,.99);text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#011627;color:#fff}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.prolog{color:#637777;font-style:italic}.token.punctuation{color:#c792ea}.namespace{color:#b2ccd6}.token.deleted{color:rgba(239,83,80,.56);font-style:italic}.token.property,.token.symbol{color:#80cbc4}.token.keyword,.token.operator,.token.tag{color:#7fdbca}.token.boolean{color:#ff5874}.token.number{color:#f78c6c}.token.builtin,.token.char,.token.constant,.token.function{color:#82aaff}.token.doctype,.token.selector{color:#c792ea;font-style:italic}.token.attr-name,.token.inserted{color:#addb67;font-style:italic}.language-css .token.string,.style .token.string,.token.entity,.token.string,.token.url{color:#addb67}.token.atrule,.token.attr-value,.token.class-name{color:#ffcb8b}.token.important,.token.regex,.token.variable{color:#d6deeb}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.not-found-page{display:flex;flex-direction:column;margin:auto;max-width:var(--post-width);padding:0 2rem}.not-found-page__title{margin-top:4rem}.navigation-bar{align-items:center;display:flex;justify-content:space-between;min-height:1vh;padding-left:1rem;padding-right:1rem;padding-top:.5rem}.navigation-bar__title{align-items:center;color:var(--color-text);display:flex;flex-direction:row;font-family:var(--fontFamily-sans);font-size:var(--fontSize-4);font-weight:var(--fontWeight-black);text-decoration:none}.navigation-bar__title:focus,.navigation-bar__title:hover{color:var(--color-primary)}.navigation-bar__title__name{margin-bottom:0}.navigation-bar__title__profile-picture{height:50px;margin-right:1rem;width:50px}.navigation-bar__link{color:var(--color-text);font-family:var(--fontFamily-sans);font-size:var(--fontSize-4);font-weight:var(--fontWeight-black);margin:0 .5rem;padding:0 .1rem;position:relative;text-decoration:none}.navigation-bar__link:focus,.navigation-bar__link:hover{color:var(--color-primary);text-decoration:none}.navigation-bar__link:before{background-color:var(--color-primary);bottom:-5px;content:"";height:2px;left:0;position:absolute;right:0;transition:width .6s cubic-bezier(.25,1,.5,1);width:0}@media (hover:hover) and (pointer:fine){.navigation-bar__link:hover:before{left:0;right:auto;width:100%}}.navigation-bar__link.navigation-bar__link--active{position:relative}.navigation-bar__link.navigation-bar__link--active:before{background-color:var(--color-primary);bottom:-5px;content:"";height:2px;left:0;position:absolute;right:auto;transition:width .6s cubic-bezier(.25,1,.5,1);width:100%}@media (max-width:42rem){.navigation-bar__title__name{display:none}.navigation-bar__link{font-size:var(--fontSize-3)}}.footer{align-items:center;display:flex;flex-direction:column}.footer__credit{font-size:var(--fontSize-0);margin-bottom:1rem}.footer__link-list{display:flex;flex-flow:row wrap;flex-grow:0;flex-shrink:0;list-style:none;margin:10px -3px;padding:0}.footer__link-list__item{align-content:center;align-items:center;display:flex;height:48px;justify-content:center;margin:4px;padding:0;width:48px}.footer__link-list__item-link{border:0;color:var(--color-text);display:flex}.footer__link-list__item-link:focus,.footer__link-list__item-link:hover{color:var(--color-primary)}.container{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh}.about-page{padding-top:6rem}.about-page__profile{align-items:center;display:flex;flex-direction:column;justify-content:center}.about-page__profile__title{margin-top:0}.about-page__profile__image{border-radius:50%;height:256px;margin-bottom:4rem;width:256px}.about-page__content{font-family:var(--fontFamily-sans);margin:auto;max-width:var(--post-width);padding:0 2rem}.post-list{margin-top:10rem}.post-list__post{margin:0 auto 1.5rem;max-width:var(--post-width);padding:0 2rem}.post-list__post__title{margin-bottom:.7rem}.post-list__post__publication-date{font-size:.9rem;margin-bottom:1rem}.post-header{margin:auto;max-width:var(--post-width);padding:0 2rem}.post-header__post-title{font-weight:black}.post-header__publish-data{font-family:var(--font-heading);font-size:var(--fontSize-2)}.post-content{margin:auto}.post-content>*{margin:0 auto 1.5rem;max-width:var(--post-width);padding:0 2rem}.post-content>p>.gatsby-highlight{margin:0 auto 1.5rem;max-width:var(--code-width);padding:0;width:100%}.post-content>ol,.post-content>ul{padding:0 2.5rem}@media (min-width:952px){.gatsby-highlight{margin:0 auto;max-width:952px;padding:0 1rem}.gatsby-highlight pre[class^=language-]{border-radius:6px!important;border-bottom-left-radius:6px!important;border-bottom-right-radius:6px!important;border-top-left-radius:6px!important;border-top-right-radius:6px!important}}.gatsby-highlight{margin:0 auto 1.5rem;max-width:var(--code-width);padding:0;width:100%}.gatsby-highlight-code-line{background-color:#192935;border-left:.25em solid #f99;display:block;margin-left:-1em;margin-right:-1em;padding-left:.75em;padding-right:1em}:not(pre)>code[class*=language-]{padding:.2em}.hero-image{align-items:center;display:flex;flex-direction:column}.hero-image__image{max-height:700px;min-height:350px;width:100%}.hero-image__footer{margin-top:.5rem}.index{margin:auto;max-width:var(--post-width);padding:0 2rem}.index__paragraph{font-family:var(--fontFamily-sans);font-size:var(--fontSize-3);transition:font-size .3s}@media (max-width:42rem){.index__paragraph{font-size:var(--fontSize-1)}}</style><meta name="generator" content="Gatsby 3.11.1"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link as="script" rel="preload" href="/webpack-runtime-9b60b0ca6498b03f000b.js"/><link as="script" rel="preload" href="/framework-a5c9fc992dbbcee3a806.js"/><link as="script" rel="preload" href="/app-7330e08aef890495b62c.js"/><link as="script" rel="preload" href="/1bfc9850-26f56d46f6b880828db4.js"/><link as="script" rel="preload" href="/component---src-pages-blog-mdx-slug-tsx-630b91dd0643806c1764.js"/><link as="fetch" rel="preload" href="/page-data/blog/2021/08/fastapi-db-tests/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/426988268.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/715814695.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="container"><title>Writing FastAPI database tests with SQLAlchemy and PostgreSQL<!-- --> | <!-- -->Facundo Maero</title><header class="navigation-bar"><a class="navigation-bar__title" href="/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" class="navigation-bar__title__profile-picture" height="50" width="50" xmlns="http://www.w3.org/2000/svg"><path d="M640 24.9c-80.8 53.6-89.4 92.5-96.4 104.4-6.7 12.2-11.7 60.3-23.3 83.6-11.7 23.6-54.2 42.2-66.1 50-11.7 7.8-28.3 38.1-41.9 64.2-108.1-4.4-167.4 38.8-259.2 93.6 29.4-9.7 43.3-16.7 43.3-16.7 94.2-36 139.3-68.3 281.1-49.2 1.1 0 1.9.6 2.8.8 3.9 2.2 5.3 6.9 3.1 10.8l-53.9 95.8c-2.5 4.7-7.8 7.2-13.1 6.1-126.8-23.8-226.9 17.3-318.9 18.6C24.1 488 0 453.4 0 451.8c0-1.1.6-1.7 1.7-1.7 0 0 38.3 0 103.1-15.3C178.4 294.5 244 245.4 315.4 245.4c0 0 71.7 0 90.6 61.9 22.8-39.7 28.3-49.2 28.3-49.2 5.3-9.4 35-77.2 86.4-141.4 51.5-64 90.4-79.9 119.3-91.8z"></path></svg><p class="navigation-bar__title__name">Facundo Maero</p></a><nav><a class="navigation-bar__link" href="/blog">Blog</a><a class="navigation-bar__link" href="/about">About</a></nav></header><main><div class="post-header"><h1 class="post-header__post-title">Writing FastAPI database tests with SQLAlchemy and PostgreSQL</h1><p class="post-header__publish-data">August 30, 2021<!-- --> ⋅ <!-- -->14 min read</p></div><div class="hero-image"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained hero-image__image"><div style="max-width:3728px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;2374&#x27; width=&#x27;3728&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#c8c8c8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/97e9dfad5e0dd086184a1320799ff12f/49edf/alex-gorbi-ETSuraUW390-unsplash.webp 932w,/static/97e9dfad5e0dd086184a1320799ff12f/93192/alex-gorbi-ETSuraUW390-unsplash.webp 1864w,/static/97e9dfad5e0dd086184a1320799ff12f/8048c/alex-gorbi-ETSuraUW390-unsplash.webp 3728w" sizes="(min-width: 3728px) 3728px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 3728px) 3728px, 100vw" decoding="async" loading="lazy" data-src="/static/97e9dfad5e0dd086184a1320799ff12f/b4f18/alex-gorbi-ETSuraUW390-unsplash.jpg" data-srcset="/static/97e9dfad5e0dd086184a1320799ff12f/47d05/alex-gorbi-ETSuraUW390-unsplash.jpg 932w,/static/97e9dfad5e0dd086184a1320799ff12f/56d29/alex-gorbi-ETSuraUW390-unsplash.jpg 1864w,/static/97e9dfad5e0dd086184a1320799ff12f/b4f18/alex-gorbi-ETSuraUW390-unsplash.jpg 3728w" alt="The Red Bull Team putting Verstappen&#x27;s car in the garage"/></picture><noscript><picture><source type="image/webp" srcSet="/static/97e9dfad5e0dd086184a1320799ff12f/49edf/alex-gorbi-ETSuraUW390-unsplash.webp 932w,/static/97e9dfad5e0dd086184a1320799ff12f/93192/alex-gorbi-ETSuraUW390-unsplash.webp 1864w,/static/97e9dfad5e0dd086184a1320799ff12f/8048c/alex-gorbi-ETSuraUW390-unsplash.webp 3728w" sizes="(min-width: 3728px) 3728px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 3728px) 3728px, 100vw" decoding="async" loading="lazy" src="/static/97e9dfad5e0dd086184a1320799ff12f/b4f18/alex-gorbi-ETSuraUW390-unsplash.jpg" srcSet="/static/97e9dfad5e0dd086184a1320799ff12f/47d05/alex-gorbi-ETSuraUW390-unsplash.jpg 932w,/static/97e9dfad5e0dd086184a1320799ff12f/56d29/alex-gorbi-ETSuraUW390-unsplash.jpg 1864w,/static/97e9dfad5e0dd086184a1320799ff12f/b4f18/alex-gorbi-ETSuraUW390-unsplash.jpg 3728w" alt="The Red Bull Team putting Verstappen&#x27;s car in the garage"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p class="hero-image__footer"><a href="https://unsplash.com/photos/ETSuraUW390">The Red Bull Team putting Verstappen&#x27;s car in the garage</a></p></div><article class="post-content"><p>In this article, we&#x27;re going to explore testing a simple FastAPI application.
Tests will be mainly at the integration level, and we&#x27;ll start slow and build
up our testing knowledge along the way.</p><p>The idea is to show what can happen when testing a REST API, how to set up
the various moving parts and how to make tests less repetitive and, if we&#x27;re
lucky, fun to write!</p><p>If you want to inspect the finished code by yourself,
<a href="https://github.com/facundojmaero/blog-projects/tree/main/fastapi-db-tests-factoryboy">you can find it here.</a></p><h2 id="the-api" style="position:relative"><a href="#the-api" aria-label="the api permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The API</h2><p>The project is a small application that&#x27;s used to register Formula 1
information. It handles two types of resources: Drivers and Teams, and it
looks like this:</p><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">- GET   /teams      -&gt; read F1 Teams
- POST  /teams      -&gt; create a new Team
- GET   /drivers    -&gt; read F1 Drivers
- POST  /drivers    -&gt; create a new Driver</code></pre></div><p>Teams can be created on their own, but to create a Driver we need to specify
the Team that signed them.
Let&#x27;s see some CURL examples, assuming the API runs on <code class="language-text">localhost:8080</code>:</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># Create a Team</span>
<span class="token function">curl</span> --header <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
  --request POST <span class="token punctuation">\</span>
  --data <span class="token string">&#x27;{&quot;name&quot;:&quot;Red Bull Racing&quot;}&#x27;</span> <span class="token punctuation">\</span>
  http://localhost:8080/teams


<span class="token comment"># Create a Driver of that Team</span>
<span class="token function">curl</span> --header <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
  --request POST <span class="token punctuation">\</span>
  --data <span class="token string">&#x27;{&quot;name&quot;:&quot;Max Verstappen&quot;, &quot;number&quot;: 33, &quot;nationality&quot;: &quot;dutch&quot;, &quot;team_id&quot;: 1}&#x27;</span> <span class="token punctuation">\</span>
  http://localhost:8080/drivers

<span class="token comment"># Get all Drivers</span>
<span class="token function">curl</span> http://localhost:8080/drivers</code></pre></div><h2 id="setting-things-up" style="position:relative"><a href="#setting-things-up" aria-label="setting things up permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting things up</h2><p>To test this API we&#x27;ll use <a href="https://pypi.org/project/pytest/">pytest</a>.</p><p>The tests we&#x27;ll write here are integration tests, meaning we don&#x27;t want to mock
different modules of our app, but want to see things working from making an
HTTP request to getting the response, all while going to the database to store
the data.</p><p>What are we working with? The stack is composed of a FastAPI application which
uses SQLAlchemy to interface with Postgres.</p><p>To test our app we need some sort of <strong>client</strong>, an object that
can make HTTP requests and deliver the response. Maybe you&#x27;re thinking of
<a href="https://pypi.org/project/requests/">requests</a> or
<a href="https://pypi.org/project/httpx/">httpx</a>, two famous libraries
in Python. But luckily FastAPI provides its own <code class="language-text">TestClient</code>, so that&#x27;s what
we&#x27;re gonna use today<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>.</p><h3 id="the-database-session" style="position:relative"><a href="#the-database-session" aria-label="the database session permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The database session</h3><p>All of our endpoints use a db <strong>session</strong>, requested on-demand to a
session factory. This factory is bound to an <strong>engine</strong> connected to Postgres
itself.</p><p>Assume we have a production database that we <strong>don&#x27;t</strong> want to touch while
testing, so one thing we could do is create a test database that&#x27;s exactly the
same just for testing, and then create an <strong>engine</strong> and a <strong>sessionmaker</strong>
connected to that db.
The following fixture provides the discussed functionality:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>fixture</span>
<span class="token keyword">def</span> <span class="token function">db_fixture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    SQLALCHEMY_DATABASE_URL <span class="token operator">=</span> <span class="token string">&quot;postgresql://postgres:password@localhost:5433/f1.db&quot;</span>

    engine <span class="token operator">=</span> create_engine<span class="token punctuation">(</span>SQLALCHEMY_DATABASE_URL<span class="token punctuation">)</span>
    testing_session_local <span class="token operator">=</span> sessionmaker<span class="token punctuation">(</span>autocommit<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> autoflush<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> bind<span class="token operator">=</span>engine<span class="token punctuation">)</span>

    <span class="token keyword">try</span><span class="token punctuation">:</span>
        Base<span class="token punctuation">.</span>metadata<span class="token punctuation">.</span>create_all<span class="token punctuation">(</span>bind<span class="token operator">=</span>engine<span class="token punctuation">)</span>

        db <span class="token operator">=</span> testing_session_local<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">yield</span> db
    <span class="token keyword">finally</span><span class="token punctuation">:</span>
        db<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
        Base<span class="token punctuation">.</span>metadata<span class="token punctuation">.</span>drop_all<span class="token punctuation">(</span>bind<span class="token operator">=</span>engine<span class="token punctuation">)</span></code></pre></div><p>If you&#x27;ve never seen pytest fixtures, think of it like this: they replace the
<code class="language-text">setUp</code> and <code class="language-text">tearDown</code> functions used in languages like Java and the like.</p><p>Fixtures are functions that you can call to get some data or perform some task
you need in a test. They can do things <strong>before</strong> a test (like the <code class="language-text">setUp</code>
hook) and/or <strong>after</strong> a test (like the <code class="language-text">tearDown</code> hook).</p><p>These functions are not meant to be called directly. Instead, they are
&quot;required&quot; by every test that needs them. This is performed by defining them
as function arguments of your tests (or other fixtures).</p><p>Here we&#x27;re setting up everything we need to create database sessions.
Then, we create the actual table structure in the db and yield a new db
session.</p><p>Everything that runs <strong>before</strong> the <code class="language-text">yield</code> expression happens <strong>before</strong> the
actual test code and everything <strong>after</strong> is considered teardown code.</p><p>When the test is done, we&#x27;re closing the session and destroying the whole
database, in order to make sure our tests are independent of each other.
There are better ways to handle this setup and teardown procedure, but that&#x27;s
a story for another day.</p><p>The last thing we need is a way of getting a <code class="language-text">TestClient</code> bound to our api.</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>fixture</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">client</span><span class="token punctuation">(</span>db_fixture<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">override_get_db</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">yield</span> db_fixture

    app<span class="token punctuation">.</span>dependency_overrides<span class="token punctuation">[</span>get_db<span class="token punctuation">]</span> <span class="token operator">=</span> override_get_db
    <span class="token keyword">yield</span> TestClient<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
    <span class="token keyword">del</span> app<span class="token punctuation">.</span>dependency_overrides<span class="token punctuation">[</span>get_db<span class="token punctuation">]</span></code></pre></div><p>In production code, the db session is provided by a function called <code class="language-text">get_db</code>.
Here we&#x27;re overriding it with our own function that returns a session to the
newly created test db. You can find more information about overriding
FastAPI dependencies <a href="https://fastapi.tiangolo.com/uk/advanced/testing-database/">in the official docs</a>.</p><h2 id="writing-tests" style="position:relative"><a href="#writing-tests" aria-label="writing tests permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Writing tests</h2><p>Now that we have the needed basic fixtures, let&#x27;s write our first test that
creates an F1 Team:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test_create_one_team</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">:</span>
    team_data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Scuderia Ferrari&quot;</span><span class="token punctuation">}</span>

    response <span class="token operator">=</span> client<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">,</span> json<span class="token operator">=</span>team_data<span class="token punctuation">)</span>

    received <span class="token operator">=</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
    expected <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Scuderia Ferrari&quot;</span><span class="token punctuation">}</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> received <span class="token operator">==</span> expected</code></pre></div><p>We&#x27;re defining the data to send in <code class="language-text">team_data</code>, making a POST request and
verifying the response is what we sent.</p><p>Since we&#x27;re setting up and tearing down the database between tests, we can
run it as many times as we want and it will always work.</p><p>Next test! Now let&#x27;s check the GET request:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test_get_team</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">:</span>
    team_data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Scuderia Ferrari&quot;</span><span class="token punctuation">}</span>
    _ <span class="token operator">=</span> client<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">,</span> json<span class="token operator">=</span>team_data<span class="token punctuation">)</span>

    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">)</span>

    expected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> team_data<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected</code></pre></div><p>Here we&#x27;re creating a Team, then fetching all Teams, and checking the retrieved
list has the newly created Team in it.</p><p>Again, since the db is empty, to test we can get a Team, we need to create it
first. This works, but can we do better? This code has some issues, let&#x27;s see
why.</p><p>In order to test the <strong>retrieval</strong> of a Team, we need to <strong>create</strong> one with
another endpoint. Lucky us we have that <code class="language-text">POST /teams</code> endpoint lying around
right? But what happens if our API contract didn&#x27;t have a POST endpoint like
that? In other words, here we had to use one endpoint to test another.</p><p>Maybe a better way would be to interact with the database &quot;behind the scenes&quot;
to create the resource we need, and only interact with the endpoint we&#x27;re
testing at the moment. Let&#x27;s do that:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> src <span class="token keyword">import</span> crud

<span class="token keyword">def</span> <span class="token function">test_get_team_orm</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> db_fixture<span class="token punctuation">)</span><span class="token punctuation">:</span>
    team_data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Scuderia Ferrari&quot;</span><span class="token punctuation">}</span>

    crud<span class="token punctuation">.</span>create_team<span class="token punctuation">(</span>db<span class="token operator">=</span>db_fixture<span class="token punctuation">,</span> team<span class="token operator">=</span>team_data<span class="token punctuation">)</span>

    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">)</span>

    expected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> team_data<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected</code></pre></div><p>We&#x27;re using the <code class="language-text">client</code> only once, and we&#x27;re creating a Team using the <code class="language-text">crud</code>
module from our application directly.</p><p>Analysis time again. The <code class="language-text">team_data</code> is defined here in the test case and used
to create the record and make the test assertion. When more test cases are
written, this variable will be needed again and again. Sounds like we can write
another fixture right?</p><p>Well, yes, and no. A fixture to avoid repeating Team data is definitely a good
idea, but what if we want to create a Team with another name? Or create more
than one Team in a single test?
We would need to grab the fixture, make a copy, and edit some attributes.</p><p>See where I&#x27;m going? Sometimes these fixtures are not as flexible as we wish
for use cases like this.</p><h3 id="using-factoryboy" style="position:relative"><a href="#using-factoryboy" aria-label="using factoryboy permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using factoryboy</h3><p>There&#x27;s a handy Python library called
<a href="https://pypi.org/project/factory-boy/">factoryboy</a> that can help us with this
fixture issue. According to their own docs:</p><blockquote><p>As a fixtures replacement tool, <!-- -->[factoryboy]<!-- --> aims to replace static, hard to
maintain fixtures with easy-to-use factories for complex objects.</p></blockquote><p>A factory is a class that builds objects. When you define them, you specify the
attributes of this object, as well as default values that can be overridden
later.</p><p>Our api has a <code class="language-text">schemas</code> module with the shape of data expected by each endpoint.
This way, we can define a factory for each schema and use them in our tests.
Let&#x27;s see an example:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> factory

<span class="token keyword">class</span> <span class="token class-name">TeamCreateFactory</span><span class="token punctuation">(</span>factory<span class="token punctuation">.</span>Factory<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> schemas<span class="token punctuation">.</span>TeamCreate

    name <span class="token operator">=</span> factory<span class="token punctuation">.</span>Sequence<span class="token punctuation">(</span><span class="token keyword">lambda</span> n<span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f&quot;Team </span><span class="token interpolation"><span class="token punctuation">{</span>n<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></code></pre></div><p>Here we defined a factory class, assigned the model class to create
(<code class="language-text">TeamCreate</code> in this case), and wrote the fields one by one.
These fields can take hardcoded values or can be dynamically assigned using
<code class="language-text">Sequences</code> or other factories (more on this later).</p><p>So how do these factories help us in the previous test cases? Let&#x27;s see a simple
example:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test_create_one_team_factoryboy</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">:</span>
    team_data <span class="token operator">=</span> factories<span class="token punctuation">.</span>TeamCreateFactory<span class="token punctuation">(</span><span class="token punctuation">)</span>

    response <span class="token operator">=</span> client<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">,</span> json<span class="token operator">=</span>team_data<span class="token punctuation">.</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    expected <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> team_data<span class="token punctuation">.</span>name<span class="token punctuation">}</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected

<span class="token keyword">def</span> <span class="token function">test_create_one_team_factoryboy_custom_name</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">:</span>
    team_data <span class="token operator">=</span> factories<span class="token punctuation">.</span>TeamCreateFactory<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;Mercedes-AMG&quot;</span><span class="token punctuation">)</span>

    response <span class="token operator">=</span> client<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">,</span> json<span class="token operator">=</span>team_data<span class="token punctuation">.</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    expected <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Mercedes-AMG&quot;</span><span class="token punctuation">}</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected</code></pre></div><p>Here the <code class="language-text">team_data</code> creation is handled by our factory. Calling it gives us
a new <code class="language-text">schemas.TeamCreate</code> object with default attributes, but they
can be overridden using <code class="language-text">kwargs</code>, as seen in the second test.</p><p>This could be fantastic for testing our app! Think about it, we could have
a Team factory, and a Driver factory, so we just call them without having to
worry about it in every test.</p><p>We can push this a bit further, and let <code class="language-text">factoryboy</code> handle database record
creation. This means we could call a factory and it would go to the database,
create a record and give it back. All that in a single line of code.</p><p>As explained <a href="https://factoryboy.readthedocs.io/en/stable/orms.html#sqlalchemy">in the docs</a>,
when working with SQLAlchemy, factories need access to a <code class="language-text">session</code> to interact
with the database, set in the <code class="language-text">sqlalchemy_session</code> metaclass attribute.
So a factory that&#x27;s able to create db records would look like this:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">TeamModelFactory</span><span class="token punctuation">(</span>factory<span class="token punctuation">.</span>alchemy<span class="token punctuation">.</span>SQLAlchemyModelFactory<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> database<span class="token punctuation">.</span>Team
        sqlalchemy_session <span class="token operator">=</span> session

    name <span class="token operator">=</span> factory<span class="token punctuation">.</span>Sequence<span class="token punctuation">(</span><span class="token keyword">lambda</span> n<span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f&quot;Team </span><span class="token interpolation"><span class="token punctuation">{</span>n<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></code></pre></div><p>But where does this <code class="language-text">session</code> come from? <a href="https://factoryboy.readthedocs.io/en/stable/orms.html#managing-sessions">The docs</a>
suggest using a <code class="language-text">scoped_session</code> to request a session when the factories are
called.
In other words, factories need a way to get a session <em>at coding time</em>,
but we can&#x27;t do that. Remember, our db sessions are obtained as dependencies
when an endpoint needs them. That&#x27;s when the code is executed when the actual
production code is called.</p><p>So how do we fix this? One way consists of a fixture that requests a session
and gives it to factories. We would be creating factories and then injecting
the session using fixtures. Sounds confusing but it&#x27;s not that weird, look:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">SQLAlchemyFactory</span><span class="token punctuation">(</span>factory<span class="token punctuation">.</span>alchemy<span class="token punctuation">.</span>SQLAlchemyModelFactory<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        abstract <span class="token operator">=</span> <span class="token boolean">True</span>
        sqlalchemy_session_persistence <span class="token operator">=</span> <span class="token string">&quot;flush&quot;</span>

    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">save_db_session</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> session<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        cls<span class="token punctuation">.</span>_meta<span class="token punctuation">.</span>sqlalchemy_session <span class="token operator">=</span> session

        <span class="token keyword">for</span> cls_attr <span class="token keyword">in</span> <span class="token builtin">vars</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>cls_attr<span class="token punctuation">,</span> <span class="token string">&quot;get_factory&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                cls_attr<span class="token punctuation">.</span>get_factory<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>save_db_session<span class="token punctuation">(</span>session<span class="token operator">=</span>session<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">TeamModelFactory</span><span class="token punctuation">(</span>SQLAlchemyFactory<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> database<span class="token punctuation">.</span>Team

    name <span class="token operator">=</span> factory<span class="token punctuation">.</span>Sequence<span class="token punctuation">(</span><span class="token keyword">lambda</span> n<span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f&quot;Team </span><span class="token interpolation"><span class="token punctuation">{</span>n<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>fixture</span><span class="token punctuation">(</span>autouse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">_setup_factories</span><span class="token punctuation">(</span>db_fixture<span class="token punctuation">)</span><span class="token punctuation">:</span>
    TeamModelFactory<span class="token punctuation">.</span>save_db_session<span class="token punctuation">(</span>session<span class="token operator">=</span>db_fixture<span class="token punctuation">)</span></code></pre></div><p>The <code class="language-text">SQLAlchemyFactory</code> is our new base class. It has a <code class="language-text">save_db_session</code> method
that&#x27;s called by fixtures <strong>before</strong> each test is run.
The method also loops over the class fields to set the session in any
subfactory, if any.</p><p>Then we define a new factory that inherits from this new base class, same as
before.</p><p>Finally, the moment of truth. Let&#x27;s use our fancy new factory to create a
database record automatically!</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test_get_team_sqlalchemy_factory</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">:</span>
    created_team <span class="token operator">=</span> factories<span class="token punctuation">.</span>TeamModelFactory<span class="token punctuation">(</span><span class="token punctuation">)</span>

    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">)</span>

    expected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> created_team<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">]</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected</code></pre></div><p>No requiring a db session explicitly and no repeating fixture data.
The <code class="language-text">TeamModelFactory()</code> call does all for us. We can even use it to create many
Teams using the <code class="language-text">create_batch</code> method:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test_get_many_teams_sqlalchemy_factory</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">:</span>
    created_teams <span class="token operator">=</span> factories<span class="token punctuation">.</span>TeamModelFactory<span class="token punctuation">.</span>create_batch<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span></code></pre></div><p>This approach is overkill for such a simple example, but I hope you
can imagine its potential when used with more complex database schemas and data
relations.</p><h3 id="using-subfactories" style="position:relative"><a href="#using-subfactories" aria-label="using subfactories permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using SubFactories</h3><p>To get a bit closer to real life, let&#x27;s write a factory to create a Driver:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">DriverModelFactory</span><span class="token punctuation">(</span>SQLAlchemyFactory<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> database<span class="token punctuation">.</span>Driver

    <span class="token builtin">id</span> <span class="token operator">=</span> factory<span class="token punctuation">.</span>Sequence<span class="token punctuation">(</span><span class="token keyword">lambda</span> n<span class="token punctuation">:</span> n<span class="token punctuation">)</span>
    name <span class="token operator">=</span> factory<span class="token punctuation">.</span>Iterator<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;Facundo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Joaquin&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    number <span class="token operator">=</span> factory<span class="token punctuation">.</span>Sequence<span class="token punctuation">(</span><span class="token keyword">lambda</span> n<span class="token punctuation">:</span> n<span class="token punctuation">)</span>
    nationality <span class="token operator">=</span> factory<span class="token punctuation">.</span>Iterator<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;Argentina&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;France&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    team <span class="token operator">=</span> factory<span class="token punctuation">.</span>SubFactory<span class="token punctuation">(</span>TeamModelFactory<span class="token punctuation">)</span></code></pre></div><p>This factory looks just like the Teams one, but since we cannot create a Driver
without a Team, we need to set that link somewhere. This is where a <code class="language-text">SubFactory</code>
comes in handy. We&#x27;re telling factoryboy that the <code class="language-text">team</code> attribute of a Driver
is filled with the output of a <code class="language-text">TeamModelFactory</code>.</p><p>A test that uses this class could look like this:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test_get_drivers</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">:</span>
    driver <span class="token operator">=</span> factories<span class="token punctuation">.</span>DriverModelFactory<span class="token punctuation">(</span><span class="token punctuation">)</span>

    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/drivers&quot;</span><span class="token punctuation">)</span>
    expected <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span>
            <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            <span class="token string">&quot;number&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span>number<span class="token punctuation">,</span>
            <span class="token string">&quot;nationality&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span>nationality<span class="token punctuation">,</span>
            <span class="token string">&quot;team&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span>team<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected</code></pre></div><p>Again, think about this. With one line of code, we&#x27;re creating two database
records. Tests can&#x27;t get simpler than this, right?</p><h3 id="factories-as-fixtures" style="position:relative"><a href="#factories-as-fixtures" aria-label="factories as fixtures permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Factories as Fixtures</h3><p>Well, we can go one tiny step further. Remember when we talked about using
fixtures as a way of &quot;requiring&quot; things we need in tests? What if we could tell
pytest that we want to create a Driver by using a fixture?</p><p>A package called <a href="https://pypi.org/project/pytest-factoryboy/">pytest-factoryboy</a>
does just that. It makes <code class="language-text">factoryboy</code> act like proper pytest fixtures, making
these tests even better.</p><p>The only change we need to use fixtures like this is to <code class="language-text">register</code> our
factories. This will tell pytest a couple of new fixtures are available.</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">register<span class="token punctuation">(</span>TeamModelFactory<span class="token punctuation">)</span>
register<span class="token punctuation">(</span>TeamCreateFactory<span class="token punctuation">)</span>
register<span class="token punctuation">(</span>DriverModelFactory<span class="token punctuation">)</span></code></pre></div><p>Once the factories are registered, they are available in two ways:</p><ul><li>The factory itself is available as a fixture named like the factory class
(<code class="language-text">TeamModelFactory</code> becomes <code class="language-text">team_model_factory</code>, <code class="language-text">TeamCreateFactory</code> becomes
<code class="language-text">team_create_factory</code> and so on)</li><li>You can just ask pytest to create an object and give it to you by using
the <code class="language-text">model</code> class name (<code class="language-text">database.Team</code> becomes <code class="language-text">team</code>, <code class="language-text">database.Driver</code>
becomes <code class="language-text">driver</code>)</li></ul><p>Let&#x27;s see some examples to illustrate this:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test_get_many_teams_sqlalchemy_factory_pytest</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> team_model_factory<span class="token punctuation">)</span><span class="token punctuation">:</span>
    created_teams <span class="token operator">=</span> team_model_factory<span class="token punctuation">.</span>create_batch<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span>

<span class="token keyword">def</span> <span class="token function">test_get_team_sqlalchemy_factory_pytest</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> team<span class="token punctuation">)</span><span class="token punctuation">:</span>
    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">)</span>

    expected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> team<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">]</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected

<span class="token keyword">def</span> <span class="token function">test_get_drivers_sqlalchemy_factory_pytest</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> driver<span class="token punctuation">)</span><span class="token punctuation">:</span>
    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/drivers&quot;</span><span class="token punctuation">)</span>
    expected <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span>
            <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            <span class="token string">&quot;number&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span>number<span class="token punctuation">,</span>
            <span class="token string">&quot;nationality&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span>nationality<span class="token punctuation">,</span>
            <span class="token string">&quot;team&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span>team<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected</code></pre></div><p>These factories even support pytest&#x27;s very powerful <code class="language-text">parametrize</code> functionality
to customize the built object using a <a href="https://pytest-factoryboy.readthedocs.io/en/latest/#attributes-are-fixtures">double underscore</a>:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>mark<span class="token punctuation">.</span>parametrize</span><span class="token punctuation">(</span><span class="token string">&quot;team__name&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;Alpine F1 Team&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">test_get_team_sqlalchemy_factory_pytest_custom</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> team<span class="token punctuation">)</span><span class="token punctuation">:</span>
    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">)</span>

    expected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Alpine F1 Team&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected

<span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>mark<span class="token punctuation">.</span>parametrize</span><span class="token punctuation">(</span><span class="token string">&quot;driver__name&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;Valtteri Bottas&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token decorator annotation punctuation">@pytest<span class="token punctuation">.</span>mark<span class="token punctuation">.</span>parametrize</span><span class="token punctuation">(</span><span class="token string">&quot;driver__number&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">77</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">test_get_drivers_sqlalchemy_factory_pytest_custom</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> driver<span class="token punctuation">)</span><span class="token punctuation">:</span>
    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/drivers&quot;</span><span class="token punctuation">)</span>
    expected <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span>
            <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Valtteri Bottas&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;number&quot;</span><span class="token punctuation">:</span> <span class="token number">77</span><span class="token punctuation">,</span>
            <span class="token string">&quot;nationality&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span>nationality<span class="token punctuation">,</span>
            <span class="token string">&quot;team&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> driver<span class="token punctuation">.</span>team<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected</code></pre></div><p>Last cool feature: we can register factories by giving them a name, and
overriding some of their attributes, to get more specific objects when needed:</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">register<span class="token punctuation">(</span>
    TeamModelFactory<span class="token punctuation">,</span>
    <span class="token string">&quot;red_bull&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">=</span><span class="token string">&quot;Red Bull Racing&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

register<span class="token punctuation">(</span>
    DriverModelFactory<span class="token punctuation">,</span>
    <span class="token string">&quot;max_verstappen&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">=</span><span class="token string">&quot;Max Verstappen&quot;</span><span class="token punctuation">,</span>
    number<span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">,</span>
    nationality<span class="token operator">=</span><span class="token string">&quot;Dutch&quot;</span><span class="token punctuation">,</span>
    team<span class="token operator">=</span>LazyFixture<span class="token punctuation">(</span><span class="token string">&quot;red_bull&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span></code></pre></div><p>We&#x27;re registering a fixture called <code class="language-text">red_bull</code> and another called
<code class="language-text">max_verstappen</code>. They are regular fixtures but all (or some) of the data is
overridden.</p><div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test_get_red_bull</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> red_bull<span class="token punctuation">)</span><span class="token punctuation">:</span>
    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/teams&quot;</span><span class="token punctuation">)</span>

    expected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Red Bull Racing&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected


<span class="token keyword">def</span> <span class="token function">test_get_verstappen</span><span class="token punctuation">(</span>client<span class="token punctuation">,</span> max_verstappen<span class="token punctuation">)</span><span class="token punctuation">:</span>
    response <span class="token operator">=</span> client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;/drivers&quot;</span><span class="token punctuation">)</span>
    expected <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> max_verstappen<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">,</span>
            <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Max Verstappen&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;number&quot;</span><span class="token punctuation">:</span> <span class="token number">33</span><span class="token punctuation">,</span>
            <span class="token string">&quot;nationality&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Dutch&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;team&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Red Bull Racing&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>

    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span>
    <span class="token keyword">assert</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> expected
</code></pre></div><h2 id="conclusion" style="position:relative"><a href="#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2><p>Writing integration tests for a FastAPI project can be a difficult task, but
tools like <code class="language-text">factoryboy</code> and its plugins can help a lot, even with a naive
API such as the one presented here.</p><p>If you want, you can check out the <a href="https://github.com/facundojmaero/blog-projects/tree/main/fastapi-db-tests-factoryboy">full code of this article</a>.
It has instructions on how to set everything up and run the tests yourself.
PRs and comments are welcome!</p><div class="footnotes"><hr/><ol><li id="fn-1">Fun fact: FastAPI&#x27;s <code class="language-text">TestClient</code> itself uses <code class="language-text">requests</code> under the hood.<a href="#fnref-1" class="footnote-backref">↩</a></li></ol></div>;</article></main><footer class="footer"><h3 class="footer__title">Links</h3><ul class="footer__link-list"><li class="footer__link-list__item"><a class="footer__link-list__item-link" href="mailto:facundojmaero@gmail.com" title="Email"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="32" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a></li><li class="footer__link-list__item"><a class="footer__link-list__item-link" href="https://github.com/facundojmaero" title="Github"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="32" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li class="footer__link-list__item"><a class="footer__link-list__item-link" href="https://www.linkedin.com/in/facundojmaero" title="Linkedin"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="32" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li class="footer__link-list__item"><a class="footer__link-list__item-link" href="https://registry.jsonresume.org/facundojmaero" title="Resume"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" height="32" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"></path></svg></a></li></ul><p class="footer__credit">Built with <a href="https://www.gatsbyjs.com">Gatsby</a></p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-2Y1KD3J5CG"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-2Y1KD3J5CG',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-2Y1KD3J5CG', {"anonymize_ip":true,"cookie_expires":0,"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2021/08/fastapi-db-tests/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f2f45a584e37bb0b7783.js"],"app":["/app-7330e08aef890495b62c.js"],"component---src-pages-404-index-tsx":["/component---src-pages-404-index-tsx-4e3f7a193e8c83b3df96.js"],"component---src-pages-about-index-tsx":["/component---src-pages-about-index-tsx-41173cdac13f935793e1.js"],"component---src-pages-blog-index-tsx":["/component---src-pages-blog-index-tsx-848867d231db858ece16.js"],"component---src-pages-blog-mdx-slug-tsx":["/component---src-pages-blog-mdx-slug-tsx-630b91dd0643806c1764.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-cebda92866f577a197c2.js"]};/*]]>*/</script><script src="/polyfill-f2f45a584e37bb0b7783.js" nomodule=""></script><script src="/component---src-pages-blog-mdx-slug-tsx-630b91dd0643806c1764.js" async=""></script><script src="/1bfc9850-26f56d46f6b880828db4.js" async=""></script><script src="/app-7330e08aef890495b62c.js" async=""></script><script src="/framework-a5c9fc992dbbcee3a806.js" async=""></script><script src="/webpack-runtime-9b60b0ca6498b03f000b.js" async=""></script></body></html>